<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>é’æ˜¥è­œæ¶ˆè²»è¨ˆç®—æ©ŸğŸ¤</title>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    </head>

    <body>

        <p1>åŒ…å»‚æ¶ˆè²»æ–¹å¼</p1>

        <form>
            <p>äººæ•¸</p><br>
            <input type="number" name="people" min="1" step="1" value="1"><br>
            <p>* äººæ•¸è‹¥å¤šæ–¼3äººï¼Œç¬¬å››äººé–‹å§‹æŒ‰å…¥å ´æ™‚é–“åŠ åƒ¹ä¸€æ¬¡</p>
            <p>* è‹¥æ”œé…’ç²¾é£²æ–™å…¥å ´ï¼Œå‰‡å„å ´æ¬¡æ¨™æº–äººæ•¸è²»ç”¨å¤šåŠ  1 äººæˆ–å¤šäºº</p>

            æ¯å°æ™‚<br>
            å¹³æ—¥16:00ä»¥å‰ 220 å…ƒ<br>
            å¹³æ—¥16:00ä»¥å¾Œ 250 å…ƒ<br>
            å‡æ—¥å…¨æ—¥ 280 å…ƒ
            <br>

            <p>æ™‚é–“</p><br>

            <label>
                <input type="radio" name="week-time" checked="checked" id="no_vacation">
                éå‡æ—¥
            </label>
            <br>
            <label>
                <input type="radio" name="week-time" id="vacation">
                å‡æ—¥
            </label>

            <br><br>

            å…¥å ´æ™‚é–“ 
            <div>
                <input type="number" id="enter-time" min="0" max="23" value="12">:
                <input type="number" min="0" max="59" placeholder="00">
            </div>
            
            <br>
            é€€å ´æ™‚é–“
            <div>
                <input type="number" id="out-time" min="0" max="23" value="18">:
                <input type="number" min="0" max="59" placeholder="00">
            </div>


            <br>


            <p>æ©Ÿç¨®</p><br>

            <label>
                <input type="radio" name="machine" checked="checked" id="crosso_g5000">
                Joysound CROSSO æˆ– DAM G5000
                <br>
                    æ¯å°æ™‚æŒ‰å…¥å ´æ™‚é–“<br>
                    å¹³æ—¥16:00ä»¥å‰ 230 å…ƒ<br>
                    å¹³æ—¥16:00ä»¥å¾Œ 280 å…ƒ<br>
                    å‡æ—¥å…¨æ—¥ 340 å…ƒ
            </label>

            <br><br>

            <label>
                <input type="radio" name="machine" id="f1_g8000">
                Joysound F1 æˆ– DAM G8000
                <br>
                    æ¯å°æ™‚æŒ‰å…¥å ´æ™‚é–“<br>
                    å¹³æ—¥16:00ä»¥å‰ 300 å…ƒ<br>
                    å¹³æ—¥16:00ä»¥å¾Œ 340 å…ƒ<br>
                    å‡æ—¥å…¨æ—¥ 420 å…ƒ
            </label>

            <br><br>

            <p>å„ªæƒ æ¯å°æ™‚æŠ˜åƒ¹(å…ƒ)</p><br>
            <input type="number" id="discount" min="0" step="10" value="0">

            <br><br>

            <button onclick="calPrice()" type="button">é€å‡º</button>
        </form>

        <p>* æœ¬åŠŸèƒ½çˆ²è¼”åŠ©è©•ä¼°æ¶ˆè²»é‡‘é¡ï¼Œæœ€å¾Œé‚„æ˜¯ä»¥è€é—†è¨ˆç®—çˆ²æº–</p>

    </body>

    <script>
        function calPrice() {
            var enter_time_hour = document.getElementById('enter-time').value;
            var out_time_hour = document.getElementById('out-time').value;
            var hours = (out_time_hour - enter_time_hour);

            var early_hours = 12 - enter_time_hour;
            var early_total = 0; // æ—©å ´çµ±è¨ˆ
            var common_total = 0; // ä¸€èˆ¬å ´çµ±è¨ˆ
            var total = 0; // å…¨éƒ¨çµ±è¨ˆ

            var people = document.getElementsByName('people')[0].value;

            var is_vacation = document.getElementById('vacation').checked;

            var crosso_g5000 = document.getElementById('crosso_g5000').checked; // æ˜¯å¦çˆ² crosso or g5000
            var f1_g8000 = document.getElementById('f1_g8000').checked; // æ˜¯å¦çˆ² f1 or g8000

            var discount = document.getElementById('discount').value;


            if (enter_time_hour == out_time_hour) {
                Swal.fire({
                    title: 'å™¢å–”',
                    html: 'é€²å ´æ™‚é–“ç­‰æ–¼å‡ºå ´æ™‚é–“',
                    icon: 'warning'
                    }
                )
                return
            }


            if (out_time_hour < 6 || out_time_hour > 23) {
                Swal.fire({
                    title: 'å™¢å–”',
                    html: 'é›¢é–‹æ™‚é–“ä¸åˆç†ï¼Œå¤œå ´å¿…é ˆè¦å¾…æ»¿æ™‚æ®µ',
                    icon: 'warning'
                    }
                )
                return
            }

            if ((is_vacation && enter_time_hour < 9) || (!is_vacation && enter_time_hour < 10)) {
                Swal.fire({
                    title: 'å™¢å–”',
                    html: 'é€²å ´æ™‚é–“ä¸åˆç†ï¼Œé€™æ™‚é–“å¯èƒ½é‚„æ²’ç‡Ÿæ¥­å™¢',
                    icon: 'warning'
                    }
                )
                return
            }

            if (out_time_hour-enter_time_hour < 0) {
                Swal.fire({
                    title: 'å™¢å–”',
                    html: 'ç›®å‰ä¸æ”¯æ´è·¨å¤œåŠå¤œå ´çš„è¨ˆç®—<br>æ—©å ´æ™‚æ®µåªæœ‰å‡æ—¥çˆ²9:00-12:00<br>ä¸€èˆ¬å ´æ¬¡æ™‚æ®µçˆ²12:00-23:00',
                    icon: 'warning'
                    }
                )
                return
            }



            // æ—©å ´åƒ¹æ ¼è¨ˆç®—
            if (is_vacation && enter_time_hour < 12) { // å‡æ—¥æ‰æœ‰æ—©å ´
                if (people < 3) {
                    if (f1_g8000) {
                        early_total += (240 + 50) * 3 // æ—©å ´ä¸è¶³3äººè¦è£œæ»¿3äººä¸” f1 or g8000 æ¯äººåŠ åƒ¹ 50
                    } else {
                        early_total += 240 * 3
                    }
                }else if (people == 4) { // æ—©å ´4äººåƒ¹
                    if (f1_g8000) {
                        early_total += (230 + 45) * people 
                    } else {
                        early_total += 230 * people
                    }
                }else if (people == 5) { // æ—©å ´5äººåƒ¹
                    if (f1_g8000) {
                        early_total += (220 + 40) * people
                    } else {
                        early_total += 220 * people
                    }
                }else if (people == 6) { // æ—©å ´6äººåƒ¹
                    if (f1_g8000) {
                        early_total += (210 + 35) * people
                    } else {
                        early_total += 210 * people
                    }
                }else { // æ—©å ´7äººå«ä»¥ä¸Šåƒ¹
                    if (f1_g8000) {
                        early_total += (200 + 30) * people
                    } else {
                        early_total += 200 * people
                    }
                }
                total += early_total
                hours -= early_hours // æ‰£æ‰æ—©ä¸Šæ™‚æ•¸
            }


            // é–‹å§‹çµ±è¨ˆä¸€èˆ¬æ™‚é–“
            if (people > 3) { // å¦‚æœå¤§æ–¼ 3 äºº å¢åŠ å¤šæ–¼çš„äººæ•¸è²»ç”¨
                var extra_people = people - 3;
                if (is_vacation) {
                    common_total += extra_people * 280; // å‡æ—¥æ¯å¤šä¸€äººå¤š280å…ƒ
                }else {
                    // å¹³æ—¥çœ‹æ˜¯å¦çˆ²ä¸‹åˆå››é»å‰
                    if (enter_time_hour < 16) { 
                        common_total += extra_people * 220; // ä¸‹åˆå››é»å‰ æ¯å¤šä¸€äººå¤š220å…ƒ
                    }else{
                        common_total += extra_people * 250; // ä¸‹åˆå››é»å¾Œ æ¯å¤šä¸€äººå¤š250å…ƒ
                    }
                }
            }

            if (is_vacation) { // åˆ¤æ–·æ˜¯å¦çˆ²å‡æ—¥
                if (crosso_g5000) {
                    common_total += 340 * hours;
                }else if (f1_g8000) {
                    common_total += 420 * hours;
                }
                
            }else{
                // å¹³æ—¥çœ‹æ˜¯å¦çˆ²ä¸‹åˆå››é»å‰
                if (enter_time_hour < 16) { 
                    if (crosso_g5000) {
                        common_total += 230 * hours;
                    }else if (f1_g8000) {
                        common_total += 280 * hours;
                    }
                }else {
                    if (crosso_g5000) {
                        common_total += 300 * hours;
                    }else if (f1_g8000) {
                        common_total += 340 * hours;
                    }
                }
            }

            var discounted_total = discount * hours; // ä¹˜ä¸Šä¸€èˆ¬å¯å„ªæƒ æ™‚æ•¸

            total += common_total;

            if (early_hours > 0) {
                Swal.fire({
                    title: 'æ¶ˆè²»åƒ¹æ ¼',
                    html: 'æ—©å ´é‡‘é¡ï¼š' + early_total.toString() + '<br>ä¸€èˆ¬å ´é‡‘é¡ï¼š' + common_total.toString() + '<br>ç¸½é‡‘é¡ï¼š' + total.toString() + '<br>å…±æŠ˜åƒ¹' + discounted_total.toString() + 'å…ƒï¼Œç¸½é‡‘é¡ï¼š' + (total - discounted_total).toString() + '<br>å…±' + people.toString() + 'äººï¼Œå¹³å‡ä¸€äººï¼š' + ((total - discounted_total)/people).toString(),
                    icon: 'success'
                    }
                )
            }else {
                Swal.fire({
                    title: 'æ¶ˆè²»åƒ¹æ ¼',
                    html: 'ç¸½é‡‘é¡ï¼š' + total.toString() + '<br>å…±æŠ˜åƒ¹' + discounted_total.toString() + 'å…ƒï¼Œç¸½é‡‘é¡ï¼š' + (total - discounted_total).toString() + '<br>å…±' + people.toString() + 'äººï¼Œå¹³å‡ä¸€äººï¼š' + ((total - discounted_total)/people).toString(),
                    icon: 'success'
                    }
                )
            }
            
        }
    </script>


</html>